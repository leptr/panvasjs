function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Canvas(t,e,i){this.width=t||100,this.height=e||this.width,i?this.canvas=i:(this.canvas=document.createElement("CANVAS"),document.body.appendChild(this.canvas)),this.background=51,width=this.width,height=this.height,this.ctx=this.canvas.getContext("2d"),can=this,this.canvas.width=this.width,this.canvas.height=this.height,interval=setInterval(loop,1e3/frameRate),this.maxWidth=99e3,this.maxHeight=99e3,this.backgroundColor="rgb(0, 0, 0)",this.shouldClear=!0,this.lnWdth=1,this.rectDrawMode="corner",this.clear=(()=>{this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(-this.maxWidth/3,-this.maxHeight/3,this.maxWidth/3*2,this.maxHeight/3*2)}),this.noClear=(()=>{this.shouldClear=!1}),this.setMaxSize=((t,e)=>{this.maxWidth=t,this.maxHeight=e}),this.setSize=((t,e)=>{void 0===t&&void 0===e?error("setSize function requires at least one argument"):(this.canvas.width=t,this.canvas.height=e||t,width=t,e=e)}),this.fullScreen=(()=>{this.setSize(innerWidth,innerHeight)}),this.background=((t,e,i)=>{if(void 0===t)error("Invalid arguments for Canvas background method");else{let o,n,r;t instanceof Color?(o=t.red,n=t.green,r=t.blue,this.backgroundColor=t.color()):(o=t,n=void 0===e?t:e,r=void 0===i?t:i,this.backgroundColor=color(o,n,r),this.canvas.style.backgroundColor=color(o,n,r))}}),this.fill=((t,e,i,o)=>{if(void 0===t)error("Invalid arguments for Canvas fill method");else{let n,r,s,a;t instanceof Color?this.ctx.fillStyle=t.color():(n=t,r=void 0===e?t:e,s=void 0===i?t:i,void 0!==e&&void 0===i?(r=t,a=e):a=void 0!==o?o:255,this.ctx.fillStyle=color(n,r,s,a))}}),this.noFill=(()=>{this.ctx.fillStyle="rgba(0, 0, 0, 0)"}),this.stroke=((t,e,i,o)=>{if(void 0===t)error("Invalid arguments for Canvas stroke method");else{let n,r,s,a;t instanceof Color?this.ctx.fillStyle=t.color():(n=t,r=void 0===e?t:e,s=void 0===i?t:i,void 0!==e&&void 0===i?(r=t,a=e):a=void 0!==o?o:255,this.ctx.strokeStyle=color(n,r,s,a))}}),this.noStroke=(()=>{this.ctx.strokeStyle="rgba(0, 0, 0, 0)"}),this.lineWidth=(t=>{this.ctx.lineWidth=t,this.lnWdth=t}),this.line=((t,e,i,o)=>{void 0===t||void 0===i||void 0===e||void 0===o?error("Invalid arguments for Canvas line method"):(this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,o),this.ctx.stroke())}),this.lineFromVector=(t=>{if(t&&t instanceof Vector){let e=t.x,i=t.y,o=t.angle(!0),n=t.magnitude(),r=n*cos(o)+e,s=n*sin(o)+i;this.ctx.beginPath(),this.ctx.moveTo(e,i),this.ctx.lineTo(r,s),this.ctx.stroke()}else error("Invalid argument for Canvas lineFromVector method")}),this.lineFromAngle=((t,e,i,o)=>{if(void 0===t)error("Invalid arguments for Canvas lineFromAngle method");else{let n=t,r=e,s=i,a=o,h=a*cos(s)+n,c=a*sin(s)+r;this.ctx.beginPath(),this.ctx.moveTo(n,r),this.ctx.lineTo(h,c),this.ctx.stroke()}}),this.rect=((t,e,i,o)=>{if(void 0===t&&void 0===e&&void 0===i&&void 0===o)error("Invalid arguments for Canvas rect method");else{let n,r,s=t,a=e;void 0===i&&void 0===o?(a=s,n=e,r=i):void 0!==i&&void 0===o?(n=i,r=n):(n=i,r=o),"corner"===this.rectDrawMode?(this.ctx.fillRect(s,a,n,r),this.ctx.strokeRect(s,a,n,r)):"center"===this.rectDrawMode&&(this.ctx.fillRect(s-n/2,a-r/2,n,r),this.ctx.strokeRect(s-n/2,a-r/2,n,r))}}),this.rectMode=(t=>{"center"!==t&&"corner"!==t?error("Invalid argument for Canvas rectMode method"):this.rectDrawMode=t}),this.point=((t,e)=>{if(void 0===t)error("Invalid arguments for Canvas point method");else{let i=t,o=e||t;this.ctx.beginPath(),this.ctx.fillStyle=this.ctx.strokeStyle,this.ctx.arc(i,o,this.lnWdth/2,0,2*PI),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}),this.circle=((t,e,i)=>{if(void 0===t||void 0===e||void 0===i)error("Invalid arguments for Canvas circle method");else{let o=t,n=e,r=i;this.ctx.beginPath(),this.ctx.arc(o,n,r,0,2*PI),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}),this.arc=((t,e,i,o,n)=>{if(void 0===t||void 0===e||void 0===i||void 0===o||void 0===n)error("Invalid arguments for Canvas arc method");else{let r=t,s=e,a=i,h=toRadians(o-90),c=toRadians(n-90);this.ctx.beginPath(),this.ctx.moveTo(r,s),this.ctx.arc(r,s,a,h,c),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}),this.ellipse=((t,e,i,o,n)=>{if(void 0===t||void 0===height)error("Invalid arguments for Canvas ellipse method");else{let r=t,s=e,a=abs(i),h=abs(o),c=0;void 0!==n&&(c=toRadians(n)),this.ctx.beginPath(),this.ctx.ellipse(r,s,a,h,c,0,TWO_PI),this.ctx.fill(),this.ctx.stroke()}}),this.beginShape=((t,e)=>{void 0===t?error("Invalid arguments for Canvas beginShape method"):(this.ctx.beginPath(),this.ctx.moveTo(t,e))}),this.vertex=((t,e)=>{void 0===t?error("Invalid arguments for Canvas vertex method"):this.ctx.lineTo(t,e)}),this.closeShape=(()=>{this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}),this.text=((t,e,i,o,n)=>{void 0===t||void 0===e||void 0===i||void 0===o||void 0===n?error("Invalid arguments for Canvas text method"):(this.ctx.font=o.toString()+"px "+n,this.ctx.fillText(t,e,i),this.ctx.strokeText(t,e,i))}),this.textAlign=(t=>{t?this.ctx.textAlign=t:error("You need to specify the text alignment")}),this.translate=((t,e)=>{void 0===t?error("Invalid arguments for Canvas translate method"):(void 0===e&&(e=t),this.ctx.translate(t,e))}),this.rotate=(t=>{void 0===t&&(t=0),this.ctx.rotate(t*PI/180)}),this.save=(()=>{this.ctx.save()}),this.restore=(()=>{this.ctx.restore()}),this.scale=((t,e)=>{let i=t||1,o=e||i;this.ctx.scale(i,o)}),this.screenshot=(()=>{let t=document.createElement("a"),e=randInt(999999),i=e+".png";t.setAttribute("download",i),t.href=this.canvas.toDataURL("image/png").replace(/^data:image\/[^;]/,"data:application/octet-stream"),t.click()}),this.playPause=(()=>{interval?(clearInterval(interval),interval=null,"function"==typeof onPause&&onPause()):framerate(frameRate)}),this.pause=(()=>{clearInterval(interval),interval=null}),this.play=(()=>{framerate(frameRate)}),this.drawImage=((t,e,i,o,n,r,s,a,h)=>{void 0===t?error("Invalid arguments for Canvas drawImage method"):void 0===o?this.ctx.drawImage(t.image,e,i):void 0!==o&&void 0!==n&&void 0===r?this.ctx.drawImage(t.image,e,i,o,n):void 0!==h&&this.ctx.drawImage(t.image,e,i,o,n,r,s,a,h)})}function Vector(t,e){this.x=0,this.y=0,this.previousX=0,this.previousY=0,void 0!==t&&(this.x=t),void 0!==e&&(this.y=e),this.set=((t,e)=>{void 0===t&&void 0===e?error("No X or Y value has been passed to the Vector set function"):(this.previousX=t,this.previousX=e,void 0!==t&&(this.x=t),void 0!==e&&(this.y=e))}),this.add=(i=>{void 0===t&&void 0===e?error("No vector has been passed to the Vector add function"):(this.previousX=this.x,this.previousY=this.y,this.x+=i.x,this.y+=i.y)}),this.subtract=(i=>{void 0===t&&void 0===e?error("No vector has been passed to the Vector subtract function"):(this.previousX=this.x,this.previousY=this.y,this.x-=i.x,this.y-=i.y)}),this.multiply=(t=>{this.previousX=this.x,this.previousY=this.y,this.x*=t,this.y*=t}),this.divide=(t=>{t=1/t,this.multiply(t)}),this.angle=(t=>t?180*atan(this.y/this.x)/PI:atan(this.y/this.x)),this.rotate=(t=>{this.previousX=this.x,this.previousY=this.y,this.x=cos(t)*this.previousX-sin(t)*this.previousY,this.y=sin(t)*this.previousX+cos(t)*this.previousY}),this.magnitude=(()=>sqrt(sqr(this.x)+sqr(this.y))),this.magnitudeSqr=(()=>sqr(this.x)+sqr(this.y)),this.setMagnitude=(t=>{let e=sqrt(sqr(this.x)+sqr(this.y)),i=t/e;this.previousX=this.x,this.previousY=this.y,this.x*=i,this.y*=i}),this.copy=(()=>new Vector(this.x,this.y)),this.normalize=(()=>{let t=new Vector(this.x,this.y),e=sqrt(sqr(t.x)+sqr(t.y));t.x=t.x/e,t.y=t.y/e,this.previousX=this.x,this.previousY=this.y,this.x=t.x,this.y=t.y}),this.distance=(t=>{if(void 0!==t)return sqrt(sqr(this.x-t.x)+sqr(this.y-t.y));error("You need to pass another vector to the Vector distance method")}),this.isOffScreen=(()=>this.x>=width||this.x<0||this.y>=height||this.y<0),this.lerp=((t,e)=>{void 0===t||void 0===e?error("Invalid arguments for Vector lerp method"):(this.x=lerp(this.x,t.x,e),this.y=lerp(this.y,t.y,e))}),this.constrain=((t,e,i,o)=>{this.x>=e?this.x=e:this.x<=t&&(this.x=t),this.y>=o?this.y=o:this.y<=i&&(this.y=i)})}function Point(t,e){this.x=t,this.y=e,this.distance=(t=>{if(void 0!==t)return sqrt(sqr(this.x-t.x)+sqr(this.y-t.y));error("You need to pass another point to the Point distance method")}),this.isOffScreen=(()=>this.x>=canvas.width||this.x<0||this.y>=canvas.height||this.y<0)}function Color(t,e,i,o){this.red=t||0,this.alpha=o||255,void 0!==e&&void 0!==i?(this.green=e,this.blue=i,this.alpha=255):void 0!==e&&void 0===i?(this.green=t,this.blue=t,this.alpha=e):(this.green=t,this.blue=t),this.randomize=(t=>{let e,i,o,n,r=randInt(-100,100);return e=this.red+r,i=this.green+r,o=this.blue+r,n=t?this.alpha+r:this.alpha,new Color(e,i,o,n)}),this.color=(()=>color(this.red,this.green,this.blue,this.alpha))}function Image(t){this.path=t,this.filename=this.path.split("/").pop(),this.image=document.createElement("IMG"),this.image.src=this.path}function Sound(t){this.path=t,this.filename=this.path.split("/").pop(),this.audio=document.createElement("AUDIO"),this.audio.src=this.path,this.play=(()=>{this.audio.play()}),this.pause=(()=>{this.audio.pause()}),this.playPause=(()=>{this.audio.paused?this.play():this.pause()})}function Store(){this.save=((t,e)=>{let i;i="object"==typeof e?JSON.stringify(e):e,window.localStorage.setItem(t,i)}),this.load=(t=>{let e=window.localStorage.getItem(t),i=JSON.parse(e);return i}),this.removeItem=(t=>{window.localStorage.removeItem(t)}),this.clearStorage=(()=>{window.localStorage.clear()}),this.itemAtKey=(t=>window.localStorage.key(t))}function color(t,e,i,o){if(void 0!==t){let n,r,s,a;return void 0!==e&&void 0===i?(n=t,r=t,s=t,a=e):void 0!==i&&void 0===o?(n=t,r=e,s=i,a=1):void 0!==o&&(n=t,r=e,s=i,a=o/255),"rgba("+n+", "+r+", "+s+", "+a+")"}error("Invalid arguments for color function")}function distance(t,e,i,o){if(t||e){if(void 0!==i||void 0!==o)return sqrt(sqr(t-i)+sqr(e-o));if(t instanceof Vector||t instanceof Point&&e instanceof Vector||e instanceof Point)return sqrt(sqr(t.x-e.x)+sqr(t.y-e.y));error("Invalid arguments for distance function")}else error("Invalid arguments for distance function")}function createVector(t,e){let i=t||0,o=e||0;return new Vector(i,o)}function randomVector(t){let e=randInt(Width),i=randInt(Height),o=createVector(e,i);return void 0!==t?o.setMagnitude(t):o.normalize(),o}function createCanvas(t,e,i){return new Canvas(t,e,i)}function createPoint(t,e){return new Point(t,e)}function randomPoint(){return new Point(randInt(width),randInt(height))}function isInArray(t,e){if(void 0!==t&&void 0!==e){for(let i=0;i<t.length;i++)if(t[i]===e)return i;return!1}error("Invalid arguments for isInArray function")}function removeFromArray(t,e){if(void 0===t||void 0===e)error("Invalid arguments for removeFromArray function");else{let i=isInArray(t,e);if(!1===i)return;t.splice(i,1)}}function createMatrix(t,e){let i=[];for(let o=0;o<t;o++){i[o]=[];for(let t=0;t<e;t++)i[o][t]=null}return i}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function constrain(t,e,i){return t<e?e:t>i?i:t}function lerp(t,e,i){if(void 0!==t&&void 0!==e&&void 0!==i)return(1-i)*t+i*e;error("Invalid arguments for lerp function")}function map(t,e,i,o,n){return(t-e)/(i-e)*(n-o)+o}function joinArray(t,e){if(t){let i="";for(let o of t)i+=o,e&&(i+=e);return i}error("Invalid arguments for joinArray function")}function removeChars(t,e){for(let i=0;i<t.length;i++)for(let o of e)t[i]===o&&(t=removeCharAt(t,i));return t}function replaceCharAt(t,e,i){let o=t.split("");return o[e]=i,string=joinArray(o),string}function removeCharAt(t,e){let i=t,o=i.split("");return o.splice(e,1),i=joinArray(o),i}function sort(t){for(let e=0;e<t.length;e++)for(let e=0;e<t.length-1;e++)t[e]>t[e+1]&&swap(t,e,e+1)}function swap(t,e,i){let o=t[e];t[e]=t[i],t[i]=o}function random(t,e){if(void 0===t&&void 0===e)return Math.random();if(t.constructor===Array){let e=Math.floor(Math.random()*t.length);return t[e]}return void 0!==e?Math.random()*(e-t)+t:Math.random()*t}function randInt(t,e){if(void 0!==t||void 0!==e)return void 0!==e?Math.floor(Math.random()*(e-t)+t):Math.floor(Math.random()*t);error("At least one argument is needed for the randInt function")}function floor(t){return Math.floor(t)}function ceil(t){return Math.ceil(t)}function round(t){return Math.round(t)}function pow(t,e){return Math.pow(t,e)}function sqrt(t){return Math.sqrt(t)}function sqr(t){return t*t}function abs(t){return Math.abs(t)}function sin(t){return Math.sin(t*PI/180)}function cos(t){return Math.cos(t*PI/180)}function acos(t){return Math.acos(t)}function asin(t){return Math.asin(t)}function tan(t){return Math.tan(t)}function atan(t){return Math.atan(t)}function exp(t){return Math.exp(t)}function log(t){return Math.log(t)}function min(){return Math.min.apply(null,arguments)}function max(){return Math.max.apply(null,arguments)}function write(t){document.write(t)}function print(t){console.log(t)}function table(t){console.table(t)}function error(t){console.error(t)}function warn(t){console.warn(t)}function setText(t,e){document.getElementById(t).innerHtml=e}function framerate(t){return t&&"number"!=typeof t?error("Invalid argument for framerate function"):(interval&&(clearInterval(interval),interval=null),frameRate=t,interval=setInterval(loop,1e3/frameRate)),frameRate}function noCanvas(){interval=setInterval(loop,1e3/frameRate),hasACanvas=!1}function loop(){frameCount++,hasACanvas&&can.shouldClear&&can.clear(),"function"==typeof update&&update()}let keyCode,mouseX,mouseY,width,height,touches=[];const PI=Math.PI,TWO_PI=2*PI,HALF_PI=PI/2,E=Math.E,SQRT2=Math.SQRT2,SQRT1_2=Math.SQRT1_2,LN2=Math.LN2,LN10=Math.LN10,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E;let UP,DOWN,LEFT,RIGHT,CENTER,START,END,CORNER,mobile,innerWidth,innerHeight,can,touchX,touchY,prevTouchX,prevTouchY,frameRate=60,interval=void 0,frameCount=0,hasACanvas=!0,mousePressed=!1;Vector.__proto__.fromAngle=(t=>new Vector(cos(t),sin(t)));const Storage=new Store;window.addEventListener("keydown",t=>{"function"==typeof keyDown&&(keyCode=t.keyCode,keyDown())}),window.addEventListener("keyup",t=>{"function"==typeof keyUp&&(keyCode=t.keyCode,keyUp())}),window.addEventListener("touchstart",t=>{let e=t.touches;touchX=e[0].clientX,touchY=e[0].clientY,startTouchX=touchX,startTouchY=touchY,calledFunction=!1,"function"==typeof touchStart&&touchStart(e)}),window.addEventListener("touchmove",t=>{let e=t.touches;touchX=e[0].clientX,touchY=e[0].clientY;let i,o=startTouchX-touchX,n=startTouchY-touchY;o>=100&&n<=10&&n>=-10&&!calledFunction?(i=RIGHT,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))):o<=-100&&n<=10&&n>=-10&&!calledFunction?(i=LEFT,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))):n<=-100&&o<=10&&o>=-10&&!calledFunction?(i=DOWN,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))):n>=100&&o<=10&&o>=-10&&!calledFunction&&(i=UP,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))),"function"==typeof touchMove&&touchMove(e)}),window.addEventListener("touchend",t=>{let e=t.touches;"function"==typeof touchEnd&&touchEnd(e)}),window.addEventListener("mousedown",t=>{mousePressed=!0,mobile||(mouseX=t.clientX,mouseY=t.clientY,"function"==typeof mouseDown&&mouseDown())}),window.addEventListener("mousemove",t=>{mobile||(mouseX=t.clientX,mouseY=t.clientY,"function"==typeof mouseMove&&mouseMove())}),window.addEventListener("mouseup",t=>{mousePressed=!1,mobile||(mouseX=t.clientX,mouseY=t.clientY,"function"==typeof mouseUp&&mouseUp())}),window.addEventListener("ready",()=>{"function"==typeof preload&&preload()}),window.addEventListener("load",()=>{mobile=isMobile(),innerWidth=window.innerWidth,innerHeight=window.innerHeight,END="end",START="start",CORNER="corner",CENTER="center",RIGHT="right",LEFT="left",DOWN="down",UP="up","function"==typeof onMobile&&mobile&&onMobile(),setup()});