function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function color(t,e,i,o){if(void 0!==t){let n,r,s,a;return void 0!==e&&void 0===i?(n=t,r=t,s=t,a=e):void 0!==i&&void 0===o?(n=t,r=e,s=i,a=1):void 0!==o&&(n=t,r=e,s=i,a=o/255),"rgba("+n+", "+r+", "+s+", "+a+")"}error("Invalid arguments for color function")}function distance(t,e,i,o){if(void 0===t&&void 0===e)error("Invalid arguments for distance function");else{if(void 0!==i||void 0!==o)return sqrt(sqr(t-i)+sqr(e-o));if(t instanceof Vector||t instanceof Point&&e instanceof Vector||e instanceof Point)return sqrt(sqr(t.x-e.x)+sqr(t.y-e.y));error("Invalid arguments for distance function")}}function createVector(t,e){let i=t||0,o=e||0;return new Vector(i,o)}function randomVector(t){let e=randInt(width),i=randInt(height),o=createVector(e,i);return void 0!==t?o.setMagnitude(t):o.normalize(),o}function createCanvas(t,e,i){return new Canvas(t,e,i)}function createPoint(t,e){return new Point(t,e)}function randomPoint(){return new Point(randInt(width),randInt(height))}function isInArray(t,e){if(void 0!==t&&void 0!==e){for(let i=0;i<t.length;i++)if(t[i]===e)return i;return!1}error("Invalid arguments for isInArray function")}function removeFromArray(t,e){if(void 0===t||void 0===e)error("Invalid arguments for removeFromArray function");else{let i=isInArray(t,e);if(!1===i)return;t.splice(i,1)}}function createMatrix(t,e){let i=[];for(let o=0;o<t;o++){i[o]=[];for(let t=0;t<e;t++)i[o][t]=null}return i}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function constrain(t,e,i){return t<e?e:t>i?i:t}function lerp(t,e,i){if(void 0!==t&&void 0!==e&&void 0!==i)return(1-i)*t+i*e;error("Invalid arguments for lerp function")}function map(t,e,i,o,n){return(t-e)/(i-e)*(n-o)+o}function joinArray(t,e){if(void 0!==t){let i="";for(let o of t)i+=o,e&&(i+=e);return i}error("Invalid arguments for joinArray function")}function removeChars(t,e){for(let i=0;i<t.length;i++)for(let o of e)t[i]===o&&(t=removeCharAt(t,i));return t}function replaceCharAt(t,e,i){let o=t.split("");return o[e]=i,string=joinArray(o),string}function removeCharAt(t,e){let i=t,o=i.split("");return o.splice(e,1),i=joinArray(o),i}function sort(t){for(let e=0;e<t.length;e++)for(let e=0;e<t.length-1;e++)t[e]>t[e+1]&&swap(t,e,e+1)}function swap(t,e,i){let o=t[e];t[e]=t[i],t[i]=o}function random(t,e){if(void 0===t&&void 0===e)return Math.random();if(t.constructor===Array){let e=Math.floor(Math.random()*t.length);return t[e]}return void 0!==e?Math.random()*(e-t)+t:Math.random()*t}function randInt(t,e){if(void 0!==t||void 0!==e)return void 0!==e?Math.floor(Math.random()*(e-t)+t):Math.floor(Math.random()*t);error("At least one argument is needed for the randInt function")}function setTitle(t){document.title=t}function floor(t){return Math.floor(t)}function ceil(t){return Math.ceil(t)}function round(t){return Math.round(t)}function pow(t,e){return Math.pow(t,e)}function sqrt(t){return Math.sqrt(t)}function sqr(t){return t*t}function abs(t){return Math.abs(t)}function sin(t){return Math.sin(t*PI/180)}function cos(t){return Math.cos(t*PI/180)}function acos(){return Math.acos.apply(null,arguments)}function asin(){return Math.asin.apply(null,arguments)}function tan(){return Math.tan.apply(null,arguments)}function atan(){return Math.atan.apply(null,arguments)}function atan2(){return Math.atan2.apply(null,arguments)}function exp(){return Math.exp.apply(null,arguments)}function log(){return Math.log.apply(null,arguments)}function min(){return Math.min.apply(null,arguments)}function max(){return Math.max.apply(null,arguments)}function write(){document.write.apply(null,arguments)}function print(){console.log.apply(null,arguments)}function table(){console.table.apply(null,arguments)}function error(){console.error.apply(null,arguments)}function warn(){console.warn.apply(null,arguments)}function setText(t,e){document.getElementById(t).innerHtml=e}function framerate(t){return t&&"number"!=typeof t?error("Invalid argument for framerate function"):(interval&&(clearInterval(interval),interval=null),frameRate=t,interval=setInterval(loop,1e3/frameRate)),frameRate}function include(t,e){let i=document.createElement("SCRIPT");i.src=t,document.head.appendChild(i),i.addEventListener("load",e)}function noCanvas(){interval=setInterval(loop,1e3/frameRate),hasACanvas=!1}function autoUpdate(t){"object"==typeof t?updateable.push(t):print(void 0===t?"The autoUpdate function requires an argument":"The autoUpdate function requires an object")}function stopAutoUpdate(t){for(let e=updateable.length-1;e>=0;e--)updateable[e]===t&&updateable.splice(e,1)}function loop(){if(frameCount++,hasACanvas&&can.shouldClear){let t=can.canvas.getBoundingClientRect();canvasX=t.left+window.scrollX,canvasY=t.top+window.scrollY,can.clear()}for(let t of updateable)"function"==typeof t.update&&t.update();"function"==typeof update&&update()}let keyCode,mouseX,mouseY,cMouseX,cMouseY,canvasX,canvasY,touchX,touchY,prevTouchX,prevTouchY,touches=[],mousePressed=!1;const PI=Math.PI,TWO_PI=2*PI,HALF_PI=PI/2,E=Math.E,SQRT2=Math.SQRT2,SQRT1_2=Math.SQRT1_2,LN2=Math.LN2,LN10=Math.LN10,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E;let UP,DOWN,LEFT,RIGHT,CENTER,START,END,CORNER,mobile,width,height,innerWidth,innerHeight,can,frameRate=60,interval=void 0,frameCount=0,hasACanvas=!0;const updateable=[],KEY={LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,NUM0:96,NUM1:97,NUM2:98,NUM3:99,NUM4:100,NUM5:101,NUM6:102,NUM7:103,NUM8:104,NUM9:105,ESC:27,TAB:9,CAPS_LOCK:20,LEFT_SHIFT:16,CONTROL:17,SPACE:32,CONTEXT_MENU:93,RIGHT_SHIFT:16,ENTER:13,BACKSPACE:8,ALT:18,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,PAUSE:19,DELETE:46,HOME:36,PAGE_UP:33,PAGE_DOWN:34};class Canvas{constructor(t,e,i){this.width=t||100,this.height=e||this.width,void 0===i?(this.canvas=document.createElement("CANVAS"),document.body.appendChild(this.canvas)):this.canvas=i,width=this.width,height=this.height,this.ctx=this.canvas.getContext("2d"),can=this,this.canvas.width=this.width,this.canvas.height=this.height,interval=setInterval(loop,1e3/frameRate),this.maxWidth=99e3,this.maxHeight=99e3,this.backgroundColor="rgb(0, 0, 0)",this.shouldClear=!0,this.isPaused=!1,this.lnWdth=1,this.rectDrawMode="corner"}clear(){this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(-this.maxWidth/3,-this.maxHeight/3,this.maxWidth/3*2,this.maxHeight/3*2)}noClear(){this.shouldClear=!1}setMaxSize(t,e){this.maxWidth=t,this.maxHeight=e}setSize(t,e){void 0===t&&void 0===e?error("setSize function requires at least one argument"):(this.canvas.width=t,this.canvas.height=e||t,width=t,height=e)}fullScreen(){this.setSize(innerWidth,innerHeight)}background(t,e,i,o){if(void 0===t)error("Invalid arguments for Canvas background method");else{let n,r,s,a;t instanceof Color?(n=t.red,r=t.green,s=t.blue,a=t.alpha,this.backgroundColor=t.color()):(n=t,r=void 0===e?t:e,s=void 0===i?t:i,a=void 0===o?255:e,this.backgroundColor=color(n,r,s,a),this.canvas.style.backgroundColor=color(n,r,s,a))}}fill(t,e,i,o){if(void 0===t)error("Invalid arguments for Canvas fill method");else{let n,r,s,a;t instanceof Color?this.ctx.fillStyle=t.color():(n=t,r=void 0===e?t:e,s=void 0===i?t:i,void 0!==e&&void 0===i?(r=t,a=e):a=void 0!==o?o:255,this.ctx.fillStyle=color(n,r,s,a))}}noFill(){this.ctx.fillStyle="rgba(0, 0, 0, 0)"}stroke(t,e,i,o){if(void 0===t)error("Invalid arguments for Canvas stroke method");else{let n,r,s,a;t instanceof Color?this.ctx.fillStyle=t.color():(n=t,r=void 0===e?t:e,s=void 0===i?t:i,void 0!==e&&void 0===i?(r=t,a=e):a=void 0!==o?o:255,this.ctx.strokeStyle=color(n,r,s,a))}}noStroke(){this.ctx.strokeStyle="rgba(0, 0, 0, 0)"}lineWidth(t){this.ctx.lineWidth=t,this.lnWdth=t}line(t,e,i,o){void 0===t||void 0===i||void 0===e||void 0===o?error("Invalid arguments for Canvas line method"):(this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,o),this.ctx.stroke())}lineFromVector(t){if(void 0!==t&&t instanceof Vector){let e=t.x,i=t.y,o=t.angle(!0),n=t.magnitude(),r=n*cos(o)+e,s=n*sin(o)+i;this.ctx.beginPath(),this.ctx.moveTo(e,i),this.ctx.lineTo(r,s),this.ctx.stroke()}else error("Invalid argument for Canvas lineFromVector method")}lineFromAngle(t,e,i,o){if(void 0===t)error("Invalid arguments for Canvas lineFromAngle method");else{let n=t,r=e,s=i,a=o,h=a*cos(s)+n,c=a*sin(s)+r;this.ctx.beginPath(),this.ctx.moveTo(n,r),this.ctx.lineTo(h,c),this.ctx.stroke()}}rect(t,e,i,o){if(void 0===t&&void 0===e&&void 0===i&&void 0===o)error("Invalid arguments for Canvas rect method");else{let n,r,s=t,a=e;void 0===i&&void 0===o?(a=s,n=e,r=i):void 0!==i&&void 0===o?(n=i,r=n):(n=i,r=o),"corner"===this.rectDrawMode?(this.ctx.fillRect(s,a,n,r),this.ctx.strokeRect(s,a,n,r)):"center"===this.rectDrawMode&&(this.ctx.fillRect(s-n/2,a-r/2,n,r),this.ctx.strokeRect(s-n/2,a-r/2,n,r))}}rectMode(t){"center"!==t&&"corner"!==t?error("Invalid argument for Canvas rectMode method"):this.rectDrawMode=t}point(t,e){if(void 0===t)error("Invalid arguments for Canvas point method");else{let i=t,o=e||t;this.ctx.beginPath(),this.ctx.fillStyle=this.ctx.strokeStyle,this.ctx.arc(i,o,this.lnWdth/2,0,2*PI),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}circle(t,e,i){if(void 0===t||void 0===e||void 0===i)error("Invalid arguments for Canvas circle method");else{let o=t,n=e,r=i;this.ctx.beginPath(),this.ctx.arc(o,n,r,0,2*PI),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}arc(t,e,i,o,n){if(void 0===t||void 0===e||void 0===i||void 0===o||void 0===n)error("Invalid arguments for Canvas arc method");else{let r=t,s=e,a=i,h=toRadians(o-90),c=toRadians(n-90);this.ctx.beginPath(),this.ctx.moveTo(r,s),this.ctx.arc(r,s,a,h,c),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()}}ellipse(t,e,i,o,n){if(void 0===t||void 0===height)error("Invalid arguments for Canvas ellipse method");else{let r=t,s=e,a=abs(i),h=abs(o),c=0;void 0!==n&&(c=toRadians(n)),this.ctx.beginPath(),this.ctx.ellipse(r,s,a,h,c,0,TWO_PI),this.ctx.fill(),this.ctx.stroke()}}beginShape(t,e){void 0===t?error("Invalid arguments for Canvas beginShape method"):(this.ctx.beginPath(),this.ctx.moveTo(t,e))}vertex(t,e){void 0===t?error("Invalid arguments for Canvas vertex method"):this.ctx.lineTo(t,e)}closeShape(){this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}text(t,e,i,o,n){void 0===t||void 0===e||void 0===i||void 0===o||void 0===n?error("Invalid arguments for Canvas text method"):(this.ctx.font=o.toString()+"px "+n,this.ctx.fillText(t,e,i),this.ctx.strokeText(t,e,i))}textAlign(t){void 0===t?error("You need to specify the text alignment"):this.ctx.textAlign=t}translate(t,e){void 0===t?error("Invalid arguments for Canvas translate method"):(void 0===e&&(e=t),this.ctx.translate(t,e))}rotate(t){void 0===t&&(t=0),this.ctx.rotate(t*PI/180)}save(){this.ctx.save()}restore(){this.ctx.restore()}scale(t,e){let i=t||1,o=e||i;this.ctx.scale(i,o)}screenshot(t){let e,i=document.createElement("a");e=t||"panvasjs_screenshot"+randInt(999999);let o=e+".png";i.setAttribute("download",o),i.href=this.canvas.toDataURL("image/png").replace(/^data:image\/[^;]/,"data:application/octet-stream"),i.click()}playPause(){interval?(clearInterval(interval),interval=null,"function"==typeof onPause&&onPause(),this.isPaused=!0):(framerate(frameRate),this.isPaused=!1)}pause(){clearInterval(interval),interval=null,this.isPaused=!0}play(){framerate(frameRate),this.isPaused=!1}drawImage(t,e,i,o,n,r,s,a,h){void 0===t?error("Invalid arguments for Canvas drawImage method"):void 0===o?this.ctx.drawImage(t.image,e,i):void 0!==o&&void 0!==n&&void 0===r?this.ctx.drawImage(t.image,e,i,o,n):void 0!==h&&this.ctx.drawImage(t.image,e,i,o,n,r,s,a,h)}}class Vector{constructor(t,e){this.x=0,this.y=0,this.previousX=0,this.previousY=0,void 0!==t&&(this.x=t),void 0!==e&&(this.y=e)}set(t,e){void 0===t||void 0===e?error("No value has been passed to the Vector set function"):(this.previousX=t,this.previousX=e,this.x=t,this.y=e)}add(t){void 0===t?error("No vector has been passed to the Vector add function"):(this.previousX=this.x,this.previousY=this.y,this.x+=t.x,this.y+=t.y)}subtract(t){void 0===t?error("No vector has been passed to the Vector subtract function"):(this.previousX=this.x,this.previousY=this.y,this.x-=t.x,this.y-=t.y)}multiply(t){void 0===t&&(t=1),this.previousX=this.x,this.previousY=this.y,this.x*=t,this.y*=t}divide(t){void 0===t&&(t=1),t=1/t,this.multiply(t)}angle(t){return null!=t?180*atan(this.y/this.x)/PI:atan(this.y/this.x)}rotate(t){this.previousX=this.x,this.previousY=this.y,this.x=cos(t)*this.previousX-sin(t)*this.previousY,this.y=sin(t)*this.previousX+cos(t)*this.previousY}magnitude(){return sqrt(sqr(this.x)+sqr(this.y))}magnitudeSqr(){return sqr(this.x)+sqr(this.y)}setMagnitude(t){let e=sqrt(sqr(this.x)+sqr(this.y)),i=t/e;this.previousX=this.x,this.previousY=this.y,this.x*=i,this.y*=i}limit(t,e){let i=t,o=null;e&&(i=e,o=t),o&&this.magnitude()<o&&this.setMagnitude(o),this.magnitude()>i&&this.setMagnitude(i)}copy(){return new Vector(this.x,this.y)}normalize(){let t=new Vector(this.x,this.y),e=sqrt(sqr(t.x)+sqr(t.y));t.x=t.x/e,t.y=t.y/e,this.previousX=this.x,this.previousY=this.y,this.x=t.x,this.y=t.y}distance(t){if(void 0!==t)return sqrt(sqr(this.x-t.x)+sqr(this.y-t.y));error("You need to pass another vector to the Vector distance method")}isOffScreen(){return this.x>=width||this.x<0||this.y>=height||this.y<0}lerp(t,e){void 0===t||void 0===e?error("Invalid arguments for Vector lerp method"):(this.x=lerp(this.x,t.x,e),this.y=lerp(this.y,t.y,e))}constrain(t,e,i,o){this.x>=e?this.x=e:this.x<=t&&(this.x=t),this.y>=o?this.y=o:this.y<=i&&(this.y=i)}}Vector.__proto__.fromAngle=(t=>new Vector(cos(t),sin(t)));class Point{constructor(t,e){this.x=t,this.y=e}distance(t){if(void 0!==t)return sqrt(sqr(this.x-t.x)+sqr(this.y-t.y));error("You need to pass another point to the Point distance method")}isOffScreen(){return this.x>=canvas.width||this.x<0||this.y>=canvas.height||this.y<0}}class Color{constructor(t,e,i,o){this.red=t||0,this.alpha=o||255,void 0!==e&&void 0!==i?(this.green=e,this.blue=i,this.alpha=255):void 0!==e&&void 0===i?(this.green=t,this.blue=t,this.alpha=e):(this.green=t,this.blue=t)}randomize(t){let e,i,o,n,r=randInt(-100,100);return e=this.red+r,i=this.green+r,o=this.blue+r,n=t?this.alpha+r:this.alpha,new Color(e,i,o,n)}color(){return color(this.red,this.green,this.blue,this.alpha)}}class Image{constructor(t){this.path=t,this.filename=this.path.split("/").pop(),this.image=document.createElement("IMG"),this.image.src=this.path}}class Sound{constructor(t){this.path=t,this.filename=this.path.split("/").pop(),this.audio=document.createElement("AUDIO"),this.audio.src=this.path}play(){this.audio.play()}pause(){this.audio.pause()}playPause(){this.audio.paused?this.play():this.pause()}}class Store{save(t,e){let i;i="object"==typeof e?JSON.stringify(e):e,window.localStorage.setItem(t,i)}load(t){let e=window.localStorage.getItem(t),i=JSON.parse(e);return i}removeItem(t){window.localStorage.removeItem(t)}clearStorage(){window.localStorage.clear()}itemAtKey(t){return window.localStorage.key(t)}}const Storage=new Store;window.addEventListener("keydown",t=>{"function"==typeof keyDown&&(keyCode=t.keyCode,keyDown(keyCode))}),window.addEventListener("keyup",t=>{"function"==typeof keyUp&&(keyCode=t.keyCode,keyUp(keyCode))}),window.addEventListener("touchstart",t=>{let e=t.touches;touchX=e[0].clientX,touchY=e[0].clientY,startTouchX=touchX,startTouchY=touchY,calledFunction=!1,"function"==typeof touchStart&&touchStart(e)}),window.addEventListener("touchmove",t=>{let e=t.touches;touchX=e[0].clientX,touchY=e[0].clientY;let i,o=startTouchX-touchX,n=startTouchY-touchY;o>=100&&n<=10&&n>=-10&&!calledFunction?(i=RIGHT,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))):o<=-100&&n<=10&&n>=-10&&!calledFunction?(i=LEFT,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))):n<=-100&&o<=10&&o>=-10&&!calledFunction?(i=DOWN,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))):n>=100&&o<=10&&o>=-10&&!calledFunction&&(i=UP,"function"==typeof swipe&&(calledFunction=!0,log("Swiping "+i),swipe(i))),"function"==typeof touchMove&&touchMove(e)}),window.addEventListener("touchend",t=>{let e=t.touches;"function"==typeof touchEnd&&touchEnd(e)}),window.addEventListener("mousedown",t=>{mousePressed=!0,mobile||(mouseX=t.clientX,mouseY=t.clientY,can&&(cMouseX=constrain(mouseX-canvasX,0,can.width),cMouseY=constrain(mouseY-canvasY,0,can.height)),"function"==typeof mouseDown&&mouseDown())}),window.addEventListener("mousemove",t=>{mobile||(mouseX=t.clientX,mouseY=t.clientY,can&&(cMouseX=constrain(mouseX-canvasX,0,can.width),cMouseY=constrain(mouseY-canvasY,0,can.height)),"function"==typeof mouseMove&&mouseMove())}),window.addEventListener("mouseup",t=>{mousePressed=!1,mobile||(mouseX=t.clientX,mouseY=t.clientY,can&&(cMouseX=constrain(mouseX-canvasX,0,can.width),cMouseY=constrain(mouseY-canvasY,0,can.height)),"function"==typeof mouseUp&&mouseUp())}),window.addEventListener("ready",()=>{"function"==typeof preload&&preload()}),window.addEventListener("load",()=>{mobile=isMobile(),innerWidth=window.innerWidth,innerHeight=window.innerHeight,END="end",START="start",CORNER="corner",CENTER="center",RIGHT="right",LEFT="left",DOWN="down",UP="up","function"==typeof onMobile&&mobile&&onMobile(),setup()});